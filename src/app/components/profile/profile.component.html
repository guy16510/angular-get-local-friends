<div class="profile-container">
  <ng-container *ngIf="loading">
    <p>Loading profile...</p>
  </ng-container>

  <ng-container *ngIf="error">
    <p class="error">{{ error }}</p>
  </ng-container>

  <ng-container *ngIf="!loading && !error && identityId">
    <div class="profile-header">
      <!-- <h1>Welcome, {{ user.username }}!</h1> -->
      <button (click)="signOut()" class="sign-out-btn">Sign Out</button>
    </div>
    
    <app-upload-image></app-upload-image>

    <div class="profile-details">
      <h2>Profile Information</h2>
      <!-- <p><strong>Username:</strong> {{ user.username }}</p>
      <p><strong>User ID:</strong> {{ user.identityId }}</p>
      <p><strong>Last Sign In:</strong> {{ user.signInDetails?.loginId }}</p> -->
    </div>

    <div class="dynamoProfile">
      <pre>{{userProfile | json}}</pre>
    </div>
  </ng-container>

  <ng-container *ngIf="!loading && !error && !identityId">
    <p>Please sign in to view your profile.</p>
    <button routerLink="/login" class="sign-in-btn">Sign In</button>
  </ng-container>
</div>
