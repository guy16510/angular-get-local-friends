<div class="contact-container" [ngClass]="isDarkMode ? 'dark-theme' : 'light-theme'">
  <h2>Contact Us</h2>
  
  <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" *ngIf="!success">
    <mat-form-field appearance="outline" class="form-group">
      <mat-label>Name</mat-label>
      <input matInput id="name" formControlName="name" [ngClass]="{'is-invalid': submitted && contactForm.get('name')?.errors}">
      <mat-error *ngIf="submitted && contactForm.get('name')?.errors?.['required']">
        Name is required
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="form-group">
      <mat-label>Email</mat-label>
      <input matInput type="email" id="email" formControlName="email" [ngClass]="{'is-invalid': submitted && contactForm.get('email')?.errors}">
      <mat-error *ngIf="submitted && contactForm.get('email')?.errors?.['required']">
        Email is required
      </mat-error>
      <mat-error *ngIf="submitted && contactForm.get('email')?.errors?.['email']">
        Please enter a valid email address
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="form-group">
      <mat-label>Message</mat-label>
      <textarea matInput id="summary" formControlName="summary" rows="5" [ngClass]="{'is-invalid': submitted && contactForm.get('summary')?.errors}"></textarea>
      <mat-error *ngIf="submitted && contactForm.get('summary')?.errors?.['required']">
        Message is required
      </mat-error>
    </mat-form-field>

    <button mat-raised-button color="primary" type="submit" class="btn-submit">Submit</button>

    <mat-card class="alert alert-danger mt-3" *ngIf="error">
      {{ error }}
    </mat-card>
  </form>

  <mat-card class="alert alert-success" *ngIf="success">
    Thank you for your message! We will get back to you soon.
  </mat-card>
</div>
