<main class="search-container">
  <h1>Search Nearby Users</h1>
  <form (ngSubmit)="searchUsers()">
    <label>
      Latitude:
      <input type="number" [(ngModel)]="lat" name="lat" required />
    </label>
    <br />
    <label>
      Longitude:
      <input type="number" [(ngModel)]="lng" name="lng" required />
    </label>
    <br />
    <label>
      Radius (1-5 miles):
      <input type="number" [(ngModel)]="radius" name="radius" required min="1" max="5" />
    </label>
    <br />
    <button type="button" (click)="useCurrentLocation()">Use Current Location</button>
    <br />
    <button type="submit">Search</button>
  </form>

  <!-- Show loading overlay if search is in progress -->
  <ng-container *ngIf="loading">
    <app-loading></app-loading>
  </ng-container>

  <div *ngIf="message">{{ message }}</div>

  <ul>
    <li *ngFor="let user of nearbyUsers">
      {{ user.userId }} - Last updated: {{ user.lastUpdated }}
    </li>
  </ul>
</main>